/*
 * WARNING
 *
 * This file is maintained automatically by Bndtools.
 * You should not edit it.
 *
 * See the BUILDING-GRADLE.md document in the root project for more details.
 *
 * Define the build settings and load overrides.
 */

assert(rootProject.hasProperty('bndBuildDependencies'))
assert(rootProject.hasProperty('bndCnf'))


/* Setup the build dependencies */
buildscript {
  dependencies {
    classpath rootProject.bndBuildDependencies
  }
}


/* Gradle directory settings */
ext.gradleBuildLibsDirName                    = '.'                 /* relative to bnd target directory             */
ext.gradleBuildTestReportDirName              = 'tests/html'        /* relative to bnd target directory / reports   */
ext.gradleBuildTestResultsDirName             = 'reports/tests/xml' /* relative to bnd target directory             */

/* Gradle default task settings */
ext.bnd_defaultTask                           = 'jar'               /* comma separated                              */
ext.others_defaultTask                        = 'jar'               /* comma separated                              */

/* Java test settings */
ext.gradleBuildTestEnableAssertions           = true
ext.gradleBuildTestIgnoreFailures             = false
ext.gradleBuildTestMaxParallelForks           = 1

/* jacoco settings */
ext.gradleBuildJacocoReportsDir               = 'reports/jacoco/test' /* relative to bnd target directory           */
ext.gradleBuildJacocoXmlReport                = true
ext.gradleBuildJacocoCsvReport                = false
ext.gradleBuildJacocoHtmlDir                  = 'html'               /* relative to gradleBuildJacocoReportsDir     */
ext.gradleBuildJacocoToolVersion              = '0.7.1.201405082137' /* set when you don't want the default         */

/* Export task settings */
ext.gradleBuildExportDir                      = 'export'            /* relative to bnd target directory             */

/* Load the overrides */
apply from: rootProject.file("${rootProject.bndCnf}/gradle/custom/settings-allProjects.gradle")


/* Allow projects to override these build settings */
def settingsFile = file('build-settings.gradle')
if (settingsFile.exists()) {
  apply from: settingsFile
}

/*
 * WARNING
 *
 * This file is maintained automatically by Bndtools.
 * You should not edit it.
 *
 * See the BUILDING-GRADLE.md document in the root project for more details.
 *
 * Setup a (java) project to use the default layout of a bnd (java) project.
 *
 * Note: the 'java' plugin must have been applied to the project before this
 *       file can be applied.
 */

assert(project != rootProject                      )
assert(hasProperty("bndSrcBinDir"                 ))
assert(hasProperty("bndSrcDir"                    ))
assert(hasProperty("bndTestSrcBinDir"             ))
assert(hasProperty("bndTestSrcDir"                ))
assert(hasProperty("gradleBuildLibsDirName"       ))
assert(hasProperty("gradleBuildTestReportDirName" ))
assert(hasProperty("gradleBuildTestResultsDirName"))


/* Gradle directory settings */
libsDirName                            = gradleBuildLibsDirName
testResultsDirName                     = gradleBuildTestResultsDirName
testReportDirName                      = gradleBuildTestReportDirName

sourceSets {
  main {
    java.srcDirs        = files(bndProject.sourcePath.collect { relativePath(it) })
    resources.srcDirs   = files(bndProject.sourcePath.collect { relativePath(it) })
    output.classesDir   =       bndSrcBinDir
    output.resourcesDir =       bndSrcBinDir
  }
  test {
    java.srcDirs        = files(bndTestSrcDir   )
    resources.srcDirs   = files(bndTestSrcDir   )
    output.classesDir   =       bndTestSrcBinDir
    output.resourcesDir =       bndTestSrcBinDir
  }
}


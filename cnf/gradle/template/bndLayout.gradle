/*
 * WARNING
 *
 * This file is maintained automatically by Bndtools.
 * You should not edit it.
 *
 * See the BUILDING-GRADLE.md document in the root project for more details.
 *
 * Setup a (java) project to use the default layout of a bnd (java) project.
 *
 * Note: the 'java' plugin must have been applied to the project before this
 *       file can be applied.
 */

assert(project != rootProject                      )
assert(hasProperty("bndSrcBinDir"                 ))
assert(hasProperty("bndSrcDir"                    ))
assert(hasProperty("bndTestSrcBinDir"             ))
assert(hasProperty("bndTestSrcDir"                ))
assert(hasProperty("gradleBuildLibsDirName"       ))
assert(hasProperty("gradleBuildTestReportDirName" ))
assert(hasProperty("gradleBuildTestResultsDirName"))


/* Gradle directory settings */
libsDirName                            = gradleBuildLibsDirName
testResultsDirName                     = gradleBuildTestResultsDirName
testReportDirName                      = gradleBuildTestReportDirName

/* Java source code source set */
sourceSets.main.java.srcDirs           = files(bndProject.sourcePath.collect { relativePath(it) })
sourceSets.main.resources.srcDirs      = files(bndProject.sourcePath.collect { relativePath(it) })
sourceSets.main.output.classesDir      =       bndSrcBinDir
sourceSets.main.output.resourcesDir    =       bndSrcBinDir

/* Java test code source set */
sourceSets.test.java.srcDirs           = files(bndTestSrcDir   )
sourceSets.test.resources.srcDirs      = files(bndTestSrcDir   )
sourceSets.test.output.classesDir      =       bndTestSrcBinDir
sourceSets.test.output.resourcesDir    =       bndTestSrcBinDir
